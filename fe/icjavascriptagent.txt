Candid
@dfinity/candid
JavaScript and TypeScript library to work with Candid interfaces

Do you want to know more about developing on the Internet Computer? Visit the Developer Docs.

Additional API Documentation can be found here.

Installation
Using Candid:

Terminal window
npm i --save @dfinity/candid

In the browser:
import { Candid } from '@dfinity/candid';


Overview
Namespaces
IDL
Classes
InputBox
InputForm
OptionForm
PipeArrayBuffer
RecordForm
Render
TupleForm
VariantForm
VecForm
Interfaces
FormConfig
JsonArray
JsonObject
ParseConfig
UIConfig
Type Aliases
JsonValue
Functions
compare
concat
idlLabelToId
inputBox
lebDecode
lebEncode
optForm
readIntLE
readUIntLE
recordForm
renderInput
renderValue
safeRead
safeReadUint8
slebDecode
slebEncode
tupleForm
uint8Equals
uint8FromBufLike
uint8ToDataView
variantForm
vecForm
writeIntLE
writeUIntLE


InputBox
Defined in: packages/candid/src/candid-core.ts:24

Constructors
Constructor
new InputBox(idl, ui): InputBox

Defined in: packages/candid/src/candid-core.ts:29

Parameters
idl
Type

ui
UIConfig

Returns
InputBox

Properties
idl
idl: Type

Defined in: packages/candid/src/candid-core.ts:30

label
label: null | string = null

Defined in: packages/candid/src/candid-core.ts:26

status
status: HTMLElement

Defined in: packages/candid/src/candid-core.ts:25

ui
ui: UIConfig

Defined in: packages/candid/src/candid-core.ts:31

value
value: any = undefined

Defined in: packages/candid/src/candid-core.ts:27

Methods
isRejected()
isRejected(): boolean

Defined in: packages/candid/src/candid-core.ts:50

Returns
boolean

parse()
parse(config): any

Defined in: packages/candid/src/candid-core.ts:54

Parameters
config
ParseConfig = {}

Returns
any

render()
render(dom): void

Defined in: packages/candid/src/candid-core.ts:81

Parameters
dom
HTMLElement

Returns
void


InputForm
Defined in: packages/candid/src/candid-core.ts:100

Extended by
RecordForm
TupleForm
VariantForm
OptionForm
VecForm
Constructors
Constructor
new InputForm(ui): InputForm

Defined in: packages/candid/src/candid-core.ts:102

Parameters
ui
FormConfig

Returns
InputForm

Properties
form
form: InputBox[] = []

Defined in: packages/candid/src/candid-core.ts:101

ui
ui: FormConfig

Defined in: packages/candid/src/candid-core.ts:102

Methods
generateForm()
abstract generateForm(): any

Defined in: packages/candid/src/candid-core.ts:105

Returns
any

parse()
abstract parse(config): any

Defined in: packages/candid/src/candid-core.ts:104

Parameters
config
ParseConfig

Returns
any

render()
render(dom): void

Defined in: packages/candid/src/candid-core.ts:114

Parameters
dom
HTMLElement

Returns
void

renderForm()
renderForm(dom): void

Defined in: packages/candid/src/candid-core.ts:106

Parameters
dom
HTMLElement

Returns
void

OptionForm
Defined in: packages/candid/src/candid-core.ts:224

Extends
InputForm
Constructors
Constructor
new OptionForm(ty, ui): OptionForm

Defined in: packages/candid/src/candid-core.ts:225

Parameters
ty
Type

ui
FormConfig

Returns
OptionForm

Overrides
InputForm.constructor

Properties
form
form: InputBox[] = []

Defined in: packages/candid/src/candid-core.ts:101

Inherited from
InputForm.form

ty
ty: Type

Defined in: packages/candid/src/candid-core.ts:226

ui
ui: FormConfig

Defined in: packages/candid/src/candid-core.ts:227

Inherited from
InputForm.ui

Methods
generateForm()
generateForm(): void

Defined in: packages/candid/src/candid-core.ts:231

Returns
void

Overrides
InputForm.generateForm

parse()
parse<T>(config): undefined | [] | [T]

Defined in: packages/candid/src/candid-core.ts:239

Type Parameters
T
T

Parameters
config
ParseConfig

Returns
undefined | [] | [T]

Overrides
InputForm.parse

render()
render(dom): void

Defined in: packages/candid/src/candid-core.ts:114

Parameters
dom
HTMLElement

Returns
void

Inherited from
InputForm.render

renderForm()
renderForm(dom): void

Defined in: packages/candid/src/candid-core.ts:106

Parameters
dom
HTMLElement

Returns
void

Inherited from
InputForm.renderForm

PipeArrayBuffer
Defined in: packages/candid/src/utils/buffer.ts:18

A class that abstracts a pipe-like Uint8Array.

Constructors
Constructor
new PipeArrayBuffer(buffer?, length?): PipeArrayBuffer

Defined in: packages/candid/src/utils/buffer.ts:54

Creates a new instance of a pipe

Parameters
buffer?
Uint8Array<ArrayBufferLike>

an optional buffer to start with

length?
number = ...

an optional amount of bytes to use for the length.

Returns
PipeArrayBuffer

Accessors
buffer
Get Signature
get buffer(): Uint8Array

Defined in: packages/candid/src/utils/buffer.ts:72

Returns
Uint8Array

byteLength
Get Signature
get byteLength(): number

Defined in: packages/candid/src/utils/buffer.ts:77

Returns
number

end
Get Signature
get end(): boolean

Defined in: packages/candid/src/utils/buffer.ts:127

Whether or not there is more data to read from the buffer

Returns
boolean

Methods
alloc()
alloc(amount): void

Defined in: packages/candid/src/utils/buffer.ts:135

Allocate a fixed amount of memory in the buffer. This does not affect the view.

Parameters
amount
number

A number of bytes to add to the buffer.

Returns
void

read()
read(num): Uint8Array

Defined in: packages/candid/src/utils/buffer.ts:85

Read num number of bytes from the front of the pipe.

Parameters
num
number

The number of bytes to read.

Returns
Uint8Array

readUint8()
readUint8(): undefined | number

Defined in: packages/candid/src/utils/buffer.ts:91

Returns
undefined | number

restore()
restore(checkPoint): void

Defined in: packages/candid/src/utils/buffer.ts:36

Restore a checkpoint of the reading view (for backtracking)

Parameters
checkPoint
Uint8Array

a previously saved checkpoint

Returns
void

save()
save(): Uint8Array

Defined in: packages/candid/src/utils/buffer.ts:28

Save a checkpoint of the reading view (for backtracking)

Returns
Uint8Array

write()
write(buf): void

Defined in: packages/candid/src/utils/buffer.ts:104

Write a buffer to the end of the pipe.

Parameters
buf
Uint8Array

The bytes to write.

Returns
void

RecordForm
Defined in: packages/candid/src/candid-core.ts:140

Extends
InputForm
Constructors
Constructor
new RecordForm(fields, ui): RecordForm

Defined in: packages/candid/src/candid-core.ts:141

Parameters
fields
[string, Type<any>][]

ui
FormConfig

Returns
RecordForm

Overrides
InputForm.constructor

Properties
fields
fields: [string, Type<any>][]

Defined in: packages/candid/src/candid-core.ts:142

form
form: InputBox[] = []

Defined in: packages/candid/src/candid-core.ts:101

Inherited from
InputForm.form

ui
ui: FormConfig

Defined in: packages/candid/src/candid-core.ts:143

Inherited from
InputForm.ui

Methods
generateForm()
generateForm(): void

Defined in: packages/candid/src/candid-core.ts:147

Returns
void

Overrides
InputForm.generateForm

parse()
parse(config): undefined | Record<string, any>

Defined in: packages/candid/src/candid-core.ts:159

Parameters
config
ParseConfig

Returns
undefined | Record<string, any>

Overrides
InputForm.parse

render()
render(dom): void

Defined in: packages/candid/src/candid-core.ts:114

Parameters
dom
HTMLElement

Returns
void

Inherited from
InputForm.render

renderForm()
renderForm(dom): void

Defined in: packages/candid/src/candid-core.ts:106

Parameters
dom
HTMLElement

Returns
void

Inherited from
InputForm.renderForm

Render
Defined in: packages/candid/src/candid-ui.ts:31

Extends
Visitor<null, InputBox>
Constructors
Constructor
new Render(): Render

Returns
Render

Inherited from
Visitor.constructor

Methods
visitBool()
visitBool(t, data): InputBox

Defined in: packages/candid/src/idl.ts:111

Parameters
t
BoolClass

data
null

Returns
InputBox

Inherited from
Visitor.visitBool

visitConstruct()
visitConstruct<T>(t, data): InputBox

Defined in: packages/candid/src/idl.ts:145

Type Parameters
T
T

Parameters
t
ConstructType<T>

data
null

Returns
InputBox

Inherited from
Visitor.visitConstruct

visitEmpty()
visitEmpty(t, data): InputBox

Defined in: packages/candid/src/idl.ts:108

Parameters
t
EmptyClass

data
null

Returns
InputBox

Inherited from
Visitor.visitEmpty

visitFixedInt()
visitFixedInt(t, data): InputBox

Defined in: packages/candid/src/idl.ts:135

Parameters
t
FixedIntClass

data
null

Returns
InputBox

Inherited from
Visitor.visitFixedInt

visitFixedNat()
visitFixedNat(t, data): InputBox

Defined in: packages/candid/src/idl.ts:138

Parameters
t
FixedNatClass

data
null

Returns
InputBox

Inherited from
Visitor.visitFixedNat

visitFloat()
visitFloat(t, data): InputBox

Defined in: packages/candid/src/idl.ts:132

Parameters
t
FloatClass

data
null

Returns
InputBox

Inherited from
Visitor.visitFloat

visitFunc()
visitFunc(t, data): InputBox

Defined in: packages/candid/src/idl.ts:167

Parameters
t
FuncClass

data
null

Returns
InputBox

Inherited from
Visitor.visitFunc

visitInt()
visitInt(t, data): InputBox

Defined in: packages/candid/src/idl.ts:126

Parameters
t
IntClass

data
null

Returns
InputBox

Inherited from
Visitor.visitInt

visitNat()
visitNat(t, data): InputBox

Defined in: packages/candid/src/idl.ts:129

Parameters
t
NatClass

data
null

Returns
InputBox

Inherited from
Visitor.visitNat

visitNull()
visitNull(t, _d): InputBox

Defined in: packages/candid/src/candid-ui.ts:38

Parameters
t
NullClass

_d
null

Returns
InputBox

Overrides
Visitor.visitNull

visitNumber()
visitNumber<T>(t, data): InputBox

Defined in: packages/candid/src/idl.ts:123

Type Parameters
T
T

Parameters
t
PrimitiveType<T>

data
null

Returns
InputBox

Inherited from
Visitor.visitNumber

visitOpt()
visitOpt<T>(t, ty, _d): InputBox

Defined in: packages/candid/src/candid-ui.ts:77

Type Parameters
T
T

Parameters
t
OptClass<T>

ty
Type<T>

_d
null

Returns
InputBox

Overrides
Visitor.visitOpt

visitPrimitive()
visitPrimitive<T>(t, data): InputBox

Defined in: packages/candid/src/idl.ts:105

Type Parameters
T
T

Parameters
t
PrimitiveType<T>

data
null

Returns
InputBox

Inherited from
Visitor.visitPrimitive

visitPrincipal()
visitPrincipal(t, data): InputBox

Defined in: packages/candid/src/idl.ts:141

Parameters
t
PrincipalClass

data
null

Returns
InputBox

Inherited from
Visitor.visitPrincipal

visitRec()
visitRec<T>(_t, ty, _d): InputBox

Defined in: packages/candid/src/candid-ui.ts:97

Type Parameters
T
T

Parameters
_t
RecClass<T>

ty
ConstructType<T>

_d
null

Returns
InputBox

Overrides
Visitor.visitRec

visitRecord()
visitRecord(t, fields, _d): InputBox

Defined in: packages/candid/src/candid-ui.ts:41

Parameters
t
RecordClass

fields
[string, Type<any>][]

_d
null

Returns
InputBox

Overrides
Visitor.visitRecord

visitReserved()
visitReserved(t, data): InputBox

Defined in: packages/candid/src/idl.ts:117

Parameters
t
ReservedClass

data
null

Returns
InputBox

Inherited from
Visitor.visitReserved

visitService()
visitService(t, data): InputBox

Defined in: packages/candid/src/idl.ts:170

Parameters
t
ServiceClass

data
null

Returns
InputBox

Inherited from
Visitor.visitService

visitText()
visitText(t, data): InputBox

Defined in: packages/candid/src/idl.ts:120

Parameters
t
TextClass

data
null

Returns
InputBox

Inherited from
Visitor.visitText

visitTuple()
visitTuple<T>(t, components, _d): InputBox

Defined in: packages/candid/src/candid-ui.ts:51

Type Parameters
T
T extends any[]

Parameters
t
TupleClass<T>

components
Type<any>[]

_d
null

Returns
InputBox

Overrides
Visitor.visitTuple

visitType()
visitType<T>(t, _d): InputBox

Defined in: packages/candid/src/candid-ui.ts:32

Type Parameters
T
T

Parameters
t
Type<T>

_d
null

Returns
InputBox

Overrides
Visitor.visitType

visitVariant()
visitVariant(t, fields, _d): InputBox

Defined in: packages/candid/src/candid-ui.ts:65

Parameters
t
VariantClass

fields
[string, Type<any>][]

_d
null

Returns
InputBox

Overrides
Visitor.visitVariant

visitVec()
visitVec<T>(t, ty, _d): InputBox

Defined in: packages/candid/src/candid-ui.ts:84

Type Parameters
T
T

Parameters
t
VecClass<T>

ty
Type<T>

_d
null

Returns
InputBox

Overrides
Visitor.visitVec

TupleForm
Defined in: packages/candid/src/candid-core.ts:172

Extends
InputForm
Constructors
Constructor
new TupleForm(components, ui): TupleForm

Defined in: packages/candid/src/candid-core.ts:173

Parameters
components
Type<any>[]

ui
FormConfig

Returns
TupleForm

Overrides
InputForm.constructor

Properties
components
components: Type<any>[]

Defined in: packages/candid/src/candid-core.ts:174

form
form: InputBox[] = []

Defined in: packages/candid/src/candid-core.ts:101

Inherited from
InputForm.form

ui
ui: FormConfig

Defined in: packages/candid/src/candid-core.ts:175

Inherited from
InputForm.ui

Methods
generateForm()
generateForm(): void

Defined in: packages/candid/src/candid-core.ts:179

Returns
void

Overrides
InputForm.generateForm

parse()
parse(config): undefined | any[]

Defined in: packages/candid/src/candid-core.ts:185

Parameters
config
ParseConfig

Returns
undefined | any[]

Overrides
InputForm.parse

render()
render(dom): void

Defined in: packages/candid/src/candid-core.ts:114

Parameters
dom
HTMLElement

Returns
void

Inherited from
InputForm.render

renderForm()
renderForm(dom): void

Defined in: packages/candid/src/candid-core.ts:106

Parameters
dom
HTMLElement

Returns
void

Inherited from
InputForm.renderForm

VariantForm
Defined in: packages/candid/src/candid-core.ts:198

Extends
InputForm
Constructors
Constructor
new VariantForm(fields, ui): VariantForm

Defined in: packages/candid/src/candid-core.ts:199

Parameters
fields
[string, Type<any>][]

ui
FormConfig

Returns
VariantForm

Overrides
InputForm.constructor

Properties
fields
fields: [string, Type<any>][]

Defined in: packages/candid/src/candid-core.ts:200

form
form: InputBox[] = []

Defined in: packages/candid/src/candid-core.ts:101

Inherited from
InputForm.form

ui
ui: FormConfig

Defined in: packages/candid/src/candid-core.ts:201

Inherited from
InputForm.ui

Methods
generateForm()
generateForm(): void

Defined in: packages/candid/src/candid-core.ts:205

Returns
void

Overrides
InputForm.generateForm

parse()
parse(config): undefined | Record<string, any>

Defined in: packages/candid/src/candid-core.ts:211

Parameters
config
ParseConfig

Returns
undefined | Record<string, any>

Overrides
InputForm.parse

render()
render(dom): void

Defined in: packages/candid/src/candid-core.ts:114

Parameters
dom
HTMLElement

Returns
void

Inherited from
InputForm.render

renderForm()
renderForm(dom): void

Defined in: packages/candid/src/candid-core.ts:106

Parameters
dom
HTMLElement

Returns
void

Inherited from
InputForm.renderForm

VecForm
Defined in: packages/candid/src/candid-core.ts:252

Extends
InputForm
Constructors
Constructor
new VecForm(ty, ui): VecForm

Defined in: packages/candid/src/candid-core.ts:253

Parameters
ty
Type

ui
FormConfig

Returns
VecForm

Overrides
InputForm.constructor

Properties
form
form: InputBox[] = []

Defined in: packages/candid/src/candid-core.ts:101

Inherited from
InputForm.form

ty
ty: Type

Defined in: packages/candid/src/candid-core.ts:254

ui
ui: FormConfig

Defined in: packages/candid/src/candid-core.ts:255

Inherited from
InputForm.ui

Methods
generateForm()
generateForm(): void

Defined in: packages/candid/src/candid-core.ts:259

Returns
void

Overrides
InputForm.generateForm

parse()
parse<T>(config): undefined | T[]

Defined in: packages/candid/src/candid-core.ts:267

Type Parameters
T
T

Parameters
config
ParseConfig

Returns
undefined | T[]

Overrides
InputForm.parse

render()
render(dom): void

Defined in: packages/candid/src/candid-core.ts:114

Parameters
dom
HTMLElement

Returns
void

Inherited from
InputForm.render

renderForm()
renderForm(dom): void

Defined in: packages/candid/src/candid-core.ts:106

Parameters
dom
HTMLElement

Returns
void

Inherited from
InputForm.renderForm

Compare
compare(u1, u2): number

Defined in: packages/candid/src/utils/buffer.ts:189

Parameters
u1
Uint8Array

uint8Array 1

u2
Uint8Array

uint8Array 2

Returns
number

number - negative if u1 < u2, positive if u1 > u2, 0 if u1 === u2

Concat
concat(…uint8Arrays): Uint8Array

Defined in: packages/candid/src/utils/buffer.ts:5

Concatenate multiple Uint8Arrays.

Parameters
uint8Arrays
…Uint8Array<ArrayBufferLike>[]

The Uint8Arrays to concatenate.

Returns
Uint8Array

IdlLabelToId
idlLabelToId(label): number

Defined in: packages/candid/src/utils/hash.ts:23

Parameters
label
string

string

Returns
number

number representing hashed label

InputBox
inputBox(t, config): InputBox

Defined in: packages/candid/src/candid-ui.ts:12

Parameters
t
Type

config
Partial<UIConfig>

Returns
InputBox

LebDecode
lebDecode(pipe): bigint

Defined in: packages/candid/src/utils/leb128.ts:74

Decode a leb encoded buffer into a bigint. The number will always be positive (does not support signed leb encoding).

Parameters
pipe
PipeArrayBuffer

A Buffer containing the leb encoded bits.

Returns
bigint


